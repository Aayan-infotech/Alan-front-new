import{r as n,_ as V,R as F,b as W,c as U,P as v,j as e}from"./index-DL5taDVF.js";import{a as E}from"./index-DW_MHI2K.js";import{c as y,a as b}from"./index.esm-BZN3EXKz.js";import{c as I}from"./ManageOrders-BLfzlGw1.js";import{C as R,a as H}from"./CCardBody-D1K57JHO.js";import{C as $}from"./CCardHeader-YPvH19q6.js";import{C as D,a as z,b as d,c as l,d as N,e as a,f as w,g as O,h as k,i as P,j as T}from"./CTable-DPqkE7aM.js";import{c as Z}from"./cil-pencil-m516yCOw.js";import{b as B,C as L}from"./CFormInput-Bmg2GR8s.js";import{C as G}from"./CFormSelect-BxuutBKw.js";import"./DefaultLayout-Bp0ODGA1.js";import"./cil-user-Ddrdy7PS.js";var A=n.forwardRef(function(i,j){var s=i.children,c=i.className,m=i.feedback,o=i.feedbackInvalid,g=i.feedbackValid,x=i.floatingClassName,p=i.floatingLabel,h=i.id,u=i.invalid,f=i.label,C=i.plainText,S=i.text,r=i.tooltipFeedback,t=i.valid,M=V(i,["children","className","feedback","feedbackInvalid","feedbackValid","floatingClassName","floatingLabel","id","invalid","label","plainText","text","tooltipFeedback","valid"]);return F.createElement(B,{describedby:M["aria-describedby"],feedback:m,feedbackInvalid:o,feedbackValid:g,floatingClassName:x,floatingLabel:p,id:h,invalid:u,label:f,text:S,tooltipFeedback:r,valid:t},F.createElement("textarea",W({className:U(C?"form-control-plaintext":"form-control",{"is-invalid":u,"is-valid":t},c),id:h},M,{ref:j}),s))});A.propTypes=W({className:v.string,id:v.string,plainText:v.bool},B.propTypes);A.displayName="CFormTextarea";const ie=()=>{const[i,j]=n.useState([]),[s,c]=n.useState(null),[m,o]=n.useState(!1),[g,x]=n.useState(!1),[p,h]=n.useState(!1);n.useEffect(()=>{E.get("http://18.221.196.222:7878/api/FnalCustData/getAllCustData").then(r=>{j(r.data)}).catch(r=>console.error("Error fetching orders:",r))},[]);const u=r=>{c(r),x(!0)},f=r=>{if(!r.paymentId||!r.paidAmount){alert("No payment details available for this order.");return}c({...r}),h(!0)},C=r=>{c({...r}),o(!0)},S=async()=>{if(s)try{await E.put(`http://18.221.196.222:7878/api/FnalCustData/editFinalOrder/${s.id}`,{orderStatus:s.orderStatus}),j(r=>r.map(t=>t.id===s.id?{...t,orderStatus:s.orderStatus}:t)),o(!1)}catch(r){console.error("Error updating order status:",r)}};return e.jsxs(e.Fragment,{children:[e.jsxs(R,{className:"order-card",children:[e.jsx($,{className:"order-card-header",children:"Order List"}),e.jsx(H,{children:e.jsxs(D,{hover:!0,responsive:!0,className:"order-table",children:[e.jsx(z,{children:e.jsxs(d,{children:[e.jsx(l,{children:"#"}),e.jsx(l,{children:"Order ID"}),e.jsx(l,{children:"Customer Name"}),e.jsx(l,{children:"Order Status"}),e.jsx(l,{children:"Order Date"}),e.jsx(l,{children:"Order Details"}),e.jsx(l,{children:"Payment Status"}),e.jsx(l,{children:"Payment Details"}),e.jsx(l,{children:"Actions"})]})}),e.jsx(N,{children:i.map((r,t)=>e.jsxs(d,{className:"order-row",children:[e.jsx(a,{children:t+1}),e.jsx(a,{children:r.order_id}),e.jsx(a,{children:r.customerName}),e.jsx(a,{className:`text-white text-center fw-bold ${r.orderStatus==="Pending"?"bg-warning":r.orderStatus==="Processing"?"bg-info":r.orderStatus==="Shipped"?"bg-primary":r.orderStatus==="Delivered"?"bg-success":"bg-danger"}`,children:r.orderStatus}),e.jsx(a,{children:new Date(r.date).toLocaleDateString()}),e.jsx(a,{children:e.jsxs("div",{className:"action-icon",onClick:()=>u(r),children:[e.jsx(y,{icon:I})," View"]})}),e.jsx(a,{children:r.paymentStatus}),e.jsx(a,{children:e.jsxs("div",{className:"action-icon",onClick:()=>f(r),children:[e.jsx(y,{icon:I})," View"]})}),e.jsx(a,{children:e.jsx("div",{className:"action-icons",children:e.jsx("div",{className:"action-icon edit-icon",onClick:()=>C(r),children:e.jsx(y,{icon:Z})})})})]},r.order_id))})]})})]}),s&&e.jsxs(w,{visible:g,onClose:()=>x(!1),size:"xl",children:[e.jsx(O,{children:e.jsx(k,{children:"Order Details"})}),e.jsx(P,{children:e.jsx(D,{bordered:!0,children:e.jsxs(N,{children:[e.jsxs(d,{children:[e.jsx(l,{style:{width:"25%",color:"red"},children:"Order ID"}),e.jsx(a,{style:{width:"25%"},children:s.order_id}),e.jsx(l,{style:{width:"25%",color:"red"},children:"Order Date"}),e.jsx(a,{style:{width:"25%"},children:new Date(s.date).toLocaleDateString()})]}),e.jsxs(d,{children:[e.jsx(l,{style:{color:"red"},children:"Product"}),e.jsx(a,{colSpan:3,children:s.productName})]}),e.jsxs(d,{children:[e.jsx(l,{style:{color:"red",height:"100px"},children:"Product Details"}),e.jsx(a,{colSpan:3,style:{verticalAlign:"top"},children:s.selectedOptions&&Object.entries(s.selectedOptions).map(([r,t])=>e.jsxs("li",{children:[e.jsxs("strong",{children:[r,":"]})," ",t]},r))})]}),e.jsxs(d,{children:[e.jsx(l,{style:{color:"red"},children:"Product Value"}),e.jsx(a,{colSpan:3,children:e.jsx("div",{className:"text-end",children:`USD ${s.totalPrice}/-`})})]})]})})}),e.jsx(T,{children:e.jsx(b,{color:"secondary",onClick:()=>x(!1),children:"Close"})})]}),s&&p&&e.jsxs(w,{visible:p,onClose:()=>h(!1),size:"xl",children:[e.jsx(O,{children:e.jsx(k,{children:"Payment Details"})}),e.jsx(P,{children:e.jsx(D,{bordered:!0,children:e.jsxs(N,{children:[e.jsxs(d,{children:[e.jsx(l,{rowSpan:5,className:"fw-bold text-success text-center align-middle",style:{verticalAlign:"middle"},children:"Payment"}),e.jsx(l,{className:"fw-bold",children:"Transaction ID"}),e.jsx(a,{children:s.paymentId})]}),e.jsxs(d,{children:[e.jsx(l,{className:"fw-bold",children:"Transaction Date"}),e.jsx(a,{children:new Date(s.date).toLocaleDateString()})]}),e.jsxs(d,{children:[e.jsx(l,{className:"fw-bold",children:"Transaction Status"}),e.jsx(a,{children:s.paymentStatus})]}),e.jsxs(d,{children:[e.jsx(l,{className:"fw-bold",children:"Transaction Amount"}),e.jsxs(a,{children:["USD ",s.paidAmount,"/-"]})]})]})})}),e.jsx(T,{children:e.jsx(b,{color:"secondary",onClick:()=>h(!1),children:"Close"})})]}),s&&m&&e.jsxs(w,{visible:m,onClose:()=>o(!1),size:"xl",children:[e.jsx(O,{children:e.jsx(k,{children:"Edit Order"})}),e.jsxs(P,{className:"row gy-4",children:[e.jsxs("div",{className:"form-group col-4",children:[e.jsx("label",{children:"Order ID"}),e.jsx(L,{type:"text",value:s.order_id,readOnly:!0,title:s.order_id})]}),e.jsxs("div",{className:"form-group col-4",children:[e.jsx("label",{children:"Order Date"}),e.jsx(L,{type:"text",value:new Date(s.date).toISOString().split("T")[0],readOnly:!0})]}),e.jsxs("div",{className:"form-group col-4",children:[e.jsx("label",{children:"Order Status"}),e.jsxs(G,{className:`text-white ${s.orderStatus==="Pending"?"bg-warning":s.orderStatus==="Processing"?"bg-info":s.orderStatus==="Shipped"?"bg-primary":s.orderStatus==="Delivered"?"bg-success":"bg-danger"}`,value:s.orderStatus,onChange:r=>c({...s,orderStatus:r.target.value}),children:[e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Processing",children:"Processing"}),e.jsx("option",{value:"Shipped",children:"Shipped"}),e.jsx("option",{value:"Delivered",children:"Delivered"}),e.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),e.jsxs("div",{className:"form-group mt-3",children:[e.jsx("label",{children:"Billing Address"}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:e.jsxs("ul",{className:"list-unstyled",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Name:"})," ",s.customerName]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Email:"})," ",s.customerEmail]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Mobile:"})," ",s.customerMobile]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Address:"})," ",s.customerAddress]}),e.jsxs("li",{children:[e.jsx("strong",{children:"State:"})," ",s.customerState]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Zip Code:"})," ",s.customerZipCode]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Country:"})," ",s.customerCountry]})]})})})]}),e.jsxs("div",{className:"form-group mt-3",children:[e.jsx("label",{children:"Shipping Details"}),e.jsx(A,{rows:6,readOnly:!0,value:`Window Pick Up
 - Green World Windows and Doors
 - 3810 Wabash Drive
 - Mira Loma, CA 91752

Door Pickup
 - A.A.W. Doors
 - 13900 S Broadway
 - Los Angeles, CA 90061

Both Door and Window Pick Up
 - Discount Door and Window
 - 5450 Complex St.
 - Unit 301
 - San Diego, CA 92123`})]})]}),e.jsxs(T,{children:[e.jsx(b,{color:"primary",onClick:S,children:"Save Changes"}),e.jsx(b,{color:"secondary",onClick:()=>o(!1),children:"Close"})]})]})]})};export{ie as default};
